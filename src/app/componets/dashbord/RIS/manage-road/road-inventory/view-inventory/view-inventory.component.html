<app-page-header
  title="View Inventory"
  title1="View Inventory"
  activeTitle="View Inventory"
>
</app-page-header>

<div class="row">
  <div class="col-xl-12">
    <app-showcode-card
      [title]="'View Inventory Details'"
      [prism]="prismCode.formlayouts10"
    >
      <div *ngIf="inventoryData" class="inventory-details">
        <!-- Road Information -->
        <div class="card mb-4">
          <div class="card-header bg-primary text-white">
            <h6 class="mb-0">
              <i class="ri-road-map-line me-2"></i>Road Information
            </h6>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold">Road Name:</label>
                <div class="form-control-plaintext">
                  {{ inventoryData.road_name || "-" }}
                </div>
              </div>
              <div class="col-md-3 mb-3">
                <label class="form-label fw-semibold"
                  >Chainage Start (KM):</label
                >
                <div class="form-control-plaintext">
                  {{ inventoryData.chainage_start || "-" }}
                </div>
              </div>
              <div class="col-md-3 mb-3">
                <label class="form-label fw-semibold">Chainage End (KM):</label>
                <div class="form-control-plaintext">
                  {{ inventoryData.chainage_end || "-" }}
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Asset Information -->
        <div class="card mb-4">
          <div class="card-header bg-success text-white">
            <h6 class="mb-0">
              <i class="ri-building-line me-2"></i>Asset Information
            </h6>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold">Asset Type:</label>
                <div class="form-control-plaintext">
                  <span class="badge bg-info fs-14">{{
                    inventoryData.asset_type || "-"
                  }}</span>
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold">Sub Asset Type:</label>
                <div class="form-control-plaintext">
                  <span class="badge bg-secondary fs-14">{{
                    inventoryData.sub_asset_type || "N/A"
                  }}</span>
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold">Direction:</label>
                <div class="form-control-plaintext">
                  {{ inventoryData.direction || "-" }}
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold">Asset Action:</label>
                <div class="form-control-plaintext">
                  <span
                    [class]="
                      inventoryData.asset_action === 'add'
                        ? 'badge bg-success fs-14'
                        : 'badge bg-warning fs-14'
                    "
                  >
                    {{
                      inventoryData.asset_action === "add"
                        ? "Add Asset"
                        : "Report Missing"
                    }}
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Location Information -->
        <div class="card mb-4">
          <div class="card-header bg-warning text-white">
            <h6 class="mb-0">
              <i class="ri-map-pin-line me-2"></i>Location Information
            </h6>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold">Latitude:</label>
                <div class="form-control-plaintext">
                  {{ inventoryData.latitude || "-" }}
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold">Longitude:</label>
                <div class="form-control-plaintext">
                  {{ inventoryData.longitude || "-" }}
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Quantity Information -->
        <div class="card mb-4">
          <div class="card-header bg-info text-white">
            <h6 class="mb-0">
              <i class="ri-sort-number-asc me-2"></i>Quantity Information
            </h6>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold"
                  >Number of Inventories:</label
                >
                <div class="form-control-plaintext">
                  <span class="badge bg-primary fs-16">{{
                    inventoryData.numbers_inventory || 0
                  }}</span>
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold">Created On:</label>
                <div class="form-control-plaintext">
                  {{ inventoryData.created_on | date : "medium" }}
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Media Information -->
        <div
          class="card mb-4"
          *ngIf="inventoryData.inventory_image || inventoryData.inventory_video"
        >
          <div class="card-header bg-secondary text-white">
            <h6 class="mb-0"><i class="ri-image-line me-2"></i>Media</h6>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md-6 mb-3" *ngIf="inventoryData.inventory_image">
                <label class="form-label fw-semibold">Image:</label>
                <div class="form-control-plaintext">
                  <span class="badge bg-success">
                    <i class="ri-image-line me-1"></i
                    >{{ inventoryData.inventory_image }}
                  </span>
                </div>
              </div>
              <div class="col-md-6 mb-3" *ngIf="inventoryData.inventory_video">
                <label class="form-label fw-semibold">Video:</label>
                <div class="form-control-plaintext">
                  <span class="badge bg-primary">
                    <i class="ri-video-line me-1"></i
                    >{{ inventoryData.inventory_video }}
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="d-flex gap-2 mt-4">
          <button
            type="button"
            class="btn btn-primary"
            [routerLink]="['/ris/road-manage/edit-inventory', inventoryId]"
          >
            <i class="ri-edit-line me-1"></i>Edit Inventory
          </button>
          <button
            type="button"
            class="btn btn-secondary"
            [routerLink]="[
              '/ris/road-manage/road-inventory',
              inventoryData.geometry_data_id
            ]"
          >
            <i class="ri-arrow-left-line me-1"></i>Back to List
          </button>
          <button
            type="button"
            class="btn btn-info"
            [routerLink]="['/ris/road-manage/road-inventory-pdf', inventoryId]"
          >
            <i class="ri-file-pdf-line me-1"></i>Download PDF
          </button>
        </div>
      </div>

      <!-- Loading State -->
      <div *ngIf="!inventoryData" class="text-center py-5">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
        <p class="mt-3 text-muted">Loading inventory details...</p>
      </div>
    </app-showcode-card>
  </div>
</div>
