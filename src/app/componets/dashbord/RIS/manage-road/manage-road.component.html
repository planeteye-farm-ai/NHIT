<app-page-header
  title="Road Manage"
  title1="Road Manage"
  activeTitle="Road Manage"
></app-page-header>

<div class="row">
  <div class="col-xl-12">
    <app-showcode-card [title]="'Road Manage'" [prism]="prismCode.table18">
      <div
        class="d-flex align-items-center justify-content-between my-1 page-header-breadcrumb flex-wrap gap-2"
      >
        <div>
          <!-- <h1 class="page-title fw-medium fs-18 mb-2">Distress</h1> -->
        </div>
        <div class="btn-list">
          <a
            href="javascript:void(0);"
            class="btn btn-primary-light btn-wave me-2"
            routerLink="/ris/road-manage/add-road"
          >
            <i class="bx bx-plus align-middle"></i> Add Road</a
          >
          <!-- <app-add-distress></app-add-distress> -->
        </div>
      </div>
      <div class="table-responsive">
        <table class="table text-nowrap">
          <thead class="table-primary">
            <tr>
              <th scope="col">Road Name</th>
              <th scope="col">Section No</th>
              <th scope="col">Type Of Road</th>
              <th scope="col">Length (km)</th>
              <th scope="col">No. of Lanes</th>
              <th scope="col">Location</th>
              <th scope="col">Created By</th>
              <th scope="col">Created On</th>
              <th scope="col">Action</th>
            </tr>
          </thead>
          <tbody>
            @for (row of tableData; track $index) {
            <tr>
              <td>{{ row.name_of_road }}</td>
              <td>{{ row.road_section_no }}</td>
              <td>{{ row.type_of_road }}</td>
              <td>{{ row.length_of_road }}</td>
              <td>{{ row.carriage_way_lanes || "-" }}</td>
              <td>{{ row.road_location }}</td>
              <td>{{ row.first_name }} {{ row.last_name }}</td>
              <td>{{ row.created_on | date : "yyyy-MM-dd" }}</td>
              <td>
                <div class="hstack gap-2 fs-15">
                  <a
                    href="javascript:void(0);"
                    title="View"
                    [routerLink]="[
                      '/ris/road-manage/view-road',
                      row.geometry_data_id
                    ]"
                    class="btn btn-icon btn-sm btn-success-transparent rounded-pill"
                    ><i class="ri-eye-line"></i
                  ></a>

                  <a
                    href="javascript:void(0);"
                    title="Edit"
                    [routerLink]="[
                      '/ris/road-manage/edit-road',
                      row.geometry_data_id
                    ]"
                    class="btn btn-icon btn-sm btn-info-transparent rounded-pill"
                    ><i class="ri-edit-line"></i
                  ></a>

                  <!-- <a href="javascript:void(0);" title="Pdf" [routerLink]="['/ris/road-manage/road-pdf', row.geometry_data_id]"
                                            class="btn btn-icon btn-sm btn-info-transparent rounded-pill"><i 
                                            class="ri-file-line"></i></a> -->

                  <a
                    href="javascript:void(0);"
                    title="Delete"
                    data-bs-toggle="modal"
                    (click)="open(content, row.geometry_data_id)"
                    data-bs-target="#exampleModal"
                    class="btn btn-icon btn-sm btn-danger-transparent rounded-pill"
                    ><i class="ri-delete-bin-line"></i
                  ></a>

                  <a
                    href="javascript:void(0);"
                    title="Histoy"
                    [routerLink]="[
                      '/ris/road-manage/history-of-work',
                      row.geometry_data_id
                    ]"
                    class="btn btn-icon btn-sm btn-warning-transparent rounded-pill"
                    ><i class="bi bi-card-list"></i
                  ></a>

                  <a
                    href="javascript:void(0);"
                    title="Inventory"
                    [routerLink]="[
                      '/ris/road-manage/road-inventory',
                      row.geometry_data_id
                    ]"
                    class="btn btn-icon btn-sm btn-primary-transparent rounded-pill"
                    ><i class="bi bi-boxes"></i
                  ></a>
                </div>
              </td>
            </tr>
            }
          </tbody>
        </table>
      </div>
    </app-showcode-card>
  </div>
</div>

<!-- delete -->
<div
  class="modal fade"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <ng-template #content let-c="close" let-d="dismiss">
        <div class="modal-header">
          <h6 class="modal-title" id="exampleModalLabel1">Confirme</h6>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            (click)="d('Cross click')"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">Are you sure you want to delete?</div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-primary"
            (click)="c('Closelick')"
            (click)="delete()"
          >
            Yes
          </button>
          <button
            type="button"
            class="btn btn-secondary"
            (click)="c('Closelick')"
            data-bs-dismiss="modal"
          >
            No
          </button>
        </div>
      </ng-template>
    </div>
  </div>
</div>
