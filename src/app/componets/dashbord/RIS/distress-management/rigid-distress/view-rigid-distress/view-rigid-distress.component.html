<app-page-header
  title="View Rigid Distress"
  title1="View Rigid Distress"
  activeTitle="View Rigid Distress"
>
</app-page-header>

<div class="row">
  <div class="col-xl-12">
    <app-showcode-card
      [title]="'View Rigid Distress Details'"
      [prism]="prismCode.formlayouts10"
    >
      <div *ngIf="distressData" class="distress-details">
        <!-- Road Information -->
        <div class="card mb-4">
          <div class="card-header bg-danger text-white">
            <h6 class="mb-0">
              <i class="ri-road-map-line me-2"></i>Road Information
            </h6>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold">Road Name:</label>
                <div class="form-control-plaintext">
                  {{ distressData.road_name || "-" }}
                </div>
              </div>
              <div class="col-md-3 mb-3">
                <label class="form-label fw-semibold"
                  >Chainage Start (KM):</label
                >
                <div class="form-control-plaintext">
                  {{ distressData.chainage_start || "-" }}
                </div>
              </div>
              <div class="col-md-3 mb-3">
                <label class="form-label fw-semibold">Chainage End (KM):</label>
                <div class="form-control-plaintext">
                  {{ distressData.chainage_end || "-" }}
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Distress Information -->
        <div class="card mb-4">
          <div class="card-header bg-warning text-white">
            <h6 class="mb-0">
              <i class="ri-alert-fill me-2"></i>Distress Information
            </h6>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold">Carriage Type:</label>
                <div class="form-control-plaintext">
                  <span class="badge bg-danger fs-14">{{
                    distressData.carriage_type || "Rigid"
                  }}</span>
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold">Distress Type:</label>
                <div class="form-control-plaintext">
                  <span class="badge bg-info fs-14">{{
                    distressData.distress_type || "-"
                  }}</span>
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold">Direction:</label>
                <div class="form-control-plaintext">
                  {{ distressData.direction || "-" }}
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold">Carriage Way Lane:</label>
                <div class="form-control-plaintext">
                  <span class="badge bg-secondary fs-14">{{
                    distressData.carriage_way_lanes || "-"
                  }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Location Information -->
        <div class="card mb-4">
          <div class="card-header bg-primary text-white">
            <h6 class="mb-0">
              <i class="ri-map-pin-line me-2"></i>Location Information
            </h6>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold">Latitude:</label>
                <div class="form-control-plaintext">
                  {{ distressData.latitude || "-" }}
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold">Longitude:</label>
                <div class="form-control-plaintext">
                  {{ distressData.longitude || "-" }}
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Dimension & Quantity Information -->
        <div class="card mb-4">
          <div class="card-header bg-success text-white">
            <h6 class="mb-0">
              <i class="ri-ruler-line me-2"></i>Dimension & Quantity Information
            </h6>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold"
                  >Number of Distress:</label
                >
                <div class="form-control-plaintext">
                  <span class="badge bg-primary fs-16">{{
                    distressData.numbers_distress || 0
                  }}</span>
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold">Created On:</label>
                <div class="form-control-plaintext">
                  {{ distressData.created_on | date : "medium" }}
                </div>
              </div>
              <div class="col-md-4 mb-3">
                <label class="form-label fw-semibold">Length (m):</label>
                <div class="form-control-plaintext">
                  {{ distressData.dimension_length || 0 }}
                </div>
              </div>
              <div class="col-md-4 mb-3">
                <label class="form-label fw-semibold">Width (m):</label>
                <div class="form-control-plaintext">
                  {{ distressData.dimension_width || 0 }}
                </div>
              </div>
              <div class="col-md-4 mb-3">
                <label class="form-label fw-semibold">Depth (mm):</label>
                <div class="form-control-plaintext">
                  {{ distressData.dimension_depth || 0 }}
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Media Information -->
        <div
          class="card mb-4"
          *ngIf="distressData.distress_image || distressData.distress_video"
        >
          <div class="card-header bg-secondary text-white">
            <h6 class="mb-0"><i class="ri-image-line me-2"></i>Media</h6>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md-6 mb-3" *ngIf="distressData.distress_image">
                <label class="form-label fw-semibold">Image:</label>
                <div class="form-control-plaintext">
                  <span class="badge bg-success">
                    <i class="ri-image-line me-1"></i
                    >{{ distressData.distress_image }}
                  </span>
                </div>
              </div>
              <div class="col-md-6 mb-3" *ngIf="distressData.distress_video">
                <label class="form-label fw-semibold">Video:</label>
                <div class="form-control-plaintext">
                  <span class="badge bg-primary">
                    <i class="ri-video-line me-1"></i
                    >{{ distressData.distress_video }}
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="d-flex gap-2 mt-4">
          <button
            type="button"
            class="btn btn-primary"
            [routerLink]="['/ris/road-manage/edit-rigid-distress', distressId]"
          >
            <i class="ri-edit-line me-1"></i>Edit Distress
          </button>
          <button
            type="button"
            class="btn btn-secondary"
            [routerLink]="['/ris/road-manage/rigid-distress']"
          >
            <i class="ri-arrow-left-line me-1"></i>Back to List
          </button>
          <button
            type="button"
            class="btn btn-info"
            [routerLink]="['/ris/road-manage/rigid-distress-pdf', distressId]"
          >
            <i class="ri-file-pdf-line me-1"></i>Download PDF
          </button>
        </div>
      </div>

      <!-- Loading State -->
      <div *ngIf="!distressData" class="text-center py-5">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
        <p class="mt-3 text-muted">Loading distress details...</p>
      </div>
    </app-showcode-card>
  </div>
</div>
